<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>Student Systems Support Centre, BSP</title>
<!-- three column -->

    <link rel="icon" type="image/gif" href="/media/global/wwwadminoxacuk/styleassets/images/favicon.gif" />
    <link rel="shortcut icon" type="image/gif" href="/media/global/wwwadminoxacuk/styleassets/images/favicon.gif" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Cache-Control" content="max-age=10800" />
    <meta name="description" content="Student Systems Support Centre, BSP" />
    <meta name="keywords" content="Information, systems, services, IT, support, development, network, BSP, " />
    <meta http-equiv="imagetoolbar" content="No" />
    <meta name="DC.Author" content="Business Services and Projects" />
    <meta name="DC.Coverage" content="unlimited" />
    <meta name="DC.Creator" content="University of Oxford" />
    <meta name="DC.Date.modified" content="10 Dec 11" />
    <meta name="DC.Description" content="Student Systems Support Centre, BSP" />
    <meta name="DC.Format" content="application/xhtml" />
    <meta name="DC.Language" content="en" />
    <meta name="DC.Publisher" content="University of Oxford" />
    <meta name="DC.Rights" content="Copyright University of Oxford" />
    <meta name="DC.subject" content="Student Systems Support Centre, Information, systems, services, IT, support, development, network, BSP, " />
    <meta name="DC.title" content="Student Systems Support Centre, BSP" />
    
    <!-- Add NO ARCHIVE meta tag if required -->
    
    <script type="text/javascript">
var ga_array = [];
if (typeof [['_setAccount', 'UA-7776382-1'],['_setDomainName', 'admin.ox.ac.uk']] != "undefined")
{
	ga_array = [['_setAccount', 'UA-7776382-1'],['_setDomainName', 'admin.ox.ac.uk']];
}
else
{
	ga_array = [['_setAccount', "[['_setAccount', 'UA-7776382-1'],['_setDomainName', 'admin.ox.ac.uk']]"]];
}
</script>
    <!-- javascript file includes -->
    <script type="text/javascript" src="/media/global/wwwadminoxacuk/styleassets/js/jquery.js">
</script><!-- jquery -->
    <script type="text/javascript" src="/media/global/wwwadminoxacuk/styleassets/js/jquery.clickOrEnter.js">
</script><!-- jquery.clickOrEnter.js -->
    <script type="text/javascript" src="/media/global/wwwadminoxacuk/styleassets/js/all.js">
</script><!-- all.js -->
    <script type="text/javascript" src="/media/global/wwwadminoxacuk/styleassets/js/page_setup.js">
</script><!-- page_setup.js -->

    <!-- Related Content Advanced -->
    


    <!-- CSS file combined from subversion-->
    <link rel="stylesheet" type="text/css" media="all" href="/media/global/wwwadminoxacuk/styleassets/css/all-t4-production.css" />
    <!-- CSS file for FAQ-->
    <link rel="stylesheet" type="text/css" media="all" href="/media/global/wwwadminoxacuk/styleassets/css/FAQ-new.css" />
    <!-- CSS for Gl More/Less -->
    <link rel="stylesheet" type="text/css" media="all" href="/media/global/wwwadminoxacuk/styleassets/css/togglePanel.css" />
    <!-- CSS for general bugFixing -->
    <link rel="stylesheet" type="text/css" media="all" href="/media/global/wwwadminoxacuk/styleassets/css/generalBugFix.css" />
    <!-- CSS for A to Z -->
    <link rel="stylesheet" type="text/css" media="all" href="/media/global/wwwadminoxacuk/styleassets/css/AtoZ.css" />


    <!-- navigation object : Gl CSS Selector -->
 <!-- navigation object : Gl CSS Selector -->
    
    <!-- note: the 'stripy' IE bug seems to have been caused by something in alumni/nav_primary.css,
    not a change to the main nav_primary. The difference is that before the width was defined on
    #primary-nav ul  (defined differently for the different images that go into it) but now is
    not. With width on #primary-nav ul this goes away -->
    <link rel="stylesheet" type="text/css" href="/media/global/wwwadminoxacuk/styleassets/css/prinav.css" />

    <!--[if IE 6]><script src="/media/global/wwwadminoxacuk/styleassets/js/ie6.js" type="text/javascript"></script><script type="text/javascript" src="/media/global/wwwoxacuk/styleassets/js/pngfix.jquery.js">
</script><![endif]-->
    <!--[if IE 6]><link rel="stylesheet" type="text/css" href="/media/global/wwwadminoxacuk/styleassets/css/ie6.css" /><link rel="stylesheet" type="text/css" media="all" href="/media/global/wwwadminoxacuk/styleassets/css/togglePanel-IE6.css" /><link rel="stylesheet" type="text/css" media="all" href="/media/global/wwwadminoxacuk/styleassets/css/AtoZ-IE6_from_production.css" /><![endif]-->
    
    <link rel="stylesheet" type="text/css" href="/media/global/wwwadminoxacuk/styleassets/css/handheld.css" media="handheld" />
    <link rel="stylesheet" type="text/css" href="/media/global/wwwadminoxacuk/styleassets/css/print.css" media="print" />
    <link rel="stylesheet" type="text/css" href="/media/global/wwwadminoxacuk/styleassets/css/oxonly_fix_padlocks.css" media="all" />
<!--[if IE 7]><link rel="stylesheet" type="text/css" media="all" href="/media/global/wwwadminoxacuk/styleassets/css/ie7.css" /><![endif]-->  
</head>

  <body>
 
        <!-- header content on page -->
    <div id="header-wrapper">
      <div id="header">

        <ul id="access-links">
          <li><a id="skipnav" href="#primary-content" accesskey="s">Start of main content</a></li>
        </ul>

        <div id="logos">
          <span class="screenonly">
            <a id="logo" href="/bsp/">
              <img src="/media/global/wwwadminoxacuk/localsites/bsp/images/banners/small-itservices.png" alt="IT Services logo" height="66" width="312" class="floated"  />
            </a>
          </span>
          <span class="printonly">
            <img src="/media/global/wwwadminoxacuk/localsites/bsp/images/banners/small-uas-sized-itservicesB.png" alt="IT Services logo for print" height="66" width="312" class="floated"  />
          </span>
        </div>

        <div class="find-it">
          <!-- text/html formatter for GL Search Box -->

<form id="searchform" action="http://www2.admin.ox.ac.uk/search_multiplex/multiplex.php" method="get">
 <div>
  <label for="searchinput">Search</label>
  <input type="text" name="q" id="searchinput" value="Enter search term" />
  <input type="image" name="submit" alt="Search" src="/media/global/wwwadminoxacuk/styleassets/images/button_search.gif" class="searchbutton" />
  <input type="hidden" name="access" value="p" />
  <input type="hidden" name="output" value="xml_no_dtd" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="hidden" name="client" value="admin" />
  <input type="hidden" name="proxystylesheet" value="admin" />
  <input type="hidden" name="subsite" value="bsp" />
  <input type="hidden" name="subsitename" value="University Administration and Services" />
  <fieldset>
    <label for="search-type" class="radio">
      <input id="search-type" class="radio radio-first" type="radio" 
             name="search-type" value="subsite" 
             checked="checked" 
      />This site</label>
    <label for="search-type2" class="radio">
      <input id="search-type2" class="radio" type="radio" 
             name="search-type" value="pages"  
      />University of Oxford</label>
    <label for="search-type3" class="radio">
      <input id="search-type3" class="radio" type="radio" 
             name="search-type" value="people" 
      />People</label>
  </fieldset>
 </div>
</form>
        </div>
        
        <!-- Add header_logo_right -->
        <div class="university-logo">
          <a href="http://www.ox.ac.uk/">
           
          <img src="/media/global/wwwadminoxacuk/styleassets/images/header_logo.gif" alt="University of Oxford" height="115" width="115" class="floated"  />

          </a>
        </div>
        
        <!-- Primary Nav -->
        

      </div>
    </div>      
    <div id="wrapper">
      <div id="content">         
          <a href="/bsp/" id="departmental-logo"></a>
          
          <div id="breadcrumb">
            <ol><!-- navigation object : Gl Pre Breadcrumb Locator --><!-- navigation object : Gl Pre Breadcrumb Home Link --><li><a href="/">UAS Home</a></li><!-- navigation object : Gl Breadcrumbs --><li><a href="/bsp/">Business Services and Projects</a></li><li><a href="/bsp/studsys-support-centre/">Student Systems Support Centre</a></li><li><a href="/bsp/studsys-support-centre/gettingaccess/">Gaining access to OSS</a></li><li><a href="/bsp/studsys-support-centre/gettingaccess/data-access-setup/">Data Feed access</a></li></ol>
          </div><div class="clear"></div>
         
	  <div id="uas-wrapper">
            <div id="secondary-content">
              <!-- Main Left Nav -->
              <ul id="secondary-nav"><li><a href="/bsp/about/" class="protected-link">About BSP</a></li><li><a href="/bsp/services/" class="protected-link">Services</a></li><li><a href="/bsp/projects/" class="protected-link">Programmes &amp; projects</a></li><li><a href="/bsp/keysystems/" class="protected-link">Key systems</a></li><li><a href="/bsp/help-support/" class="protected-link">Help &amp; support</a></li><li><a href="/bsp/howtofindus/">How to find us</a></li><li><a href="/bsp/sysavailability/">System availability</a></li></ul>

              <!-- Under Left Nav -->
	      
            </div>
              
            <div id="primary-content">
              <a name="27237"></a><h1>Student Systems Support Centre</h1>





<h2>Accessing the OSS Student Data Feed: Notes for IT Officers</h2>
<p>The OSS Student Data Feed can be accessed via the Data Warehouse or the Web Service, as described below.</p>
<!-- navigation object : Gl Table of Contents In-page --><ul class="toc"><li><a href="#d.en.54041">Accessing the OSS Student Data Feed via the Data Warehouse</a></li><li><a href="#d.en.54040">Accessing the OSS Student Data Feed via the Web Service</a></li><li><a href="#d.en.27244">User names and password</a></li><li><a href="#d.en.27245">Technical documentation</a></li><li><a href="#d.en.27246">Setting up access to the OSS Student Data Feed via the Web Service</a></li><li><a href="#d.en.27247">Support</a></li></ul><!--start Further Content-->
<a name="d.en.54041"></a>
<h2>Accessing the OSS Student Data Feed via the Data Warehouse</h2>
<div  class="teaser"></div>
<p>To request a username and password to allow access to the Data Feed  tables in the Data Warehouse, please email: <a href="mailto:sdma@admin.ox.ac.uk">sdma@admin.ox.ac.uk</a>.</p>
<p>The Data Warehouse is accessed through ODBC-link using the  instructions below. The server is bids.uas.ox.ac.uk and the  database is an SQL Server Database called STUPROD.</p>
<p>Set up an ODBC connection (Start - Settings - Control Panel -  Administrative tools - Data Sources) under the System DSN tab. Click Add  and select SQL Server (or SQL Server Native Client 10.0). Add whatever  Name and Description you want but the server setting should be bids.uas.ox.ac.uk. On the next screen select 'With SQL Server  authentication...' and enter your user name and password. On the next  screen make sure that the database field is pointing to STUPROD. Click  Finish and Test Data Source.</p>
<!-- navigation object : Gl Back to Top --><div class="clear"></div><div class="backtotop"><a href="#wrapper" class=" backtotop">Back to top</a></div>


<!--end Further Content-->
<!--start Further Content-->
<a name="d.en.54040"></a>
<h2>Accessing the OSS Student Data Feed via the Web Service</h2>
<div  class="teaser"></div>
<p>An OSS Student Data Feed account is&nbsp;provided on email requested by the  college, division or departmental <a href="/bsp/student_systems/ic.shtml">Information Custodian</a>&nbsp;to  the <a href="mailto:oss@admin.ox.ac.uk">OSS Support Centre</a>.  Please&nbsp;provide the name of the IT Support Officer and the organisation  unit(s) that IT Officer supports. A new account will be created  specifically for&nbsp;your college or department in order for your IT Officer  to access the Feed. Please note: this responsibility will not be added  to the IT Support Officer's individual OSS access account. Please refer to the instructions below.</p>
<!-- navigation object : Gl Back to Top --><div class="clear"></div><div class="backtotop"><a href="#wrapper" class=" backtotop">Back to top</a></div>


<!--end Further Content-->
<!--start Further Content-->
<a name="d.en.27244"></a>
<h2>User names and password</h2>
<div  class="teaser"></div>
<p>As the IT Support Officer, you will be provided with a username for your college or department, and an initial password, which you will need to change by logging into <a href="https://www.studsys.ox.ac.uk/OA_HTML/xxigs/xxigsDirectLogin.jsp">OSS directly</a> using this link (ie not via Single Sign-on). <strong>Please note: The only reason you need to log-in to OSS is to change your password. The XXIGS Student Data Feed responsibility that you can see will not provide access to the Student Data Feed itself. </strong>The OSS Student Data Feed account&nbsp;password will expire after 180 days. The XML message returned each time the web service is queried will warn you how many days remain until a password change is required (this is contained in the 'message' element, as an attribute called 'passwordDaysLeft'). Once in OSS, go to: Edit &gt; Preferences &gt; Change Password. If the password has already expired,&nbsp;you will be prompted to update it when you&nbsp;log in.</p>
<!-- navigation object : Gl Back to Top --><div class="clear"></div><div class="backtotop"><a href="#wrapper" class=" backtotop">Back to top</a></div>


<!--end Further Content-->
<!--start Further Content-->
<a name="d.en.27245"></a>
<h2>Technical documentation</h2>
<div  class="teaser"></div>
<p>Web service technical and user documentation is available from the Student Systems Weblearn space at: <a href="https://weblearn.ox.ac.uk/portal/hierarchy/central/aad/systems/datafeed">https://weblearn.ox.ac.uk/portal/hierarchy/central/aad/systems/datafeed</a>. These items provide all the information needed to access the OSS Student Data Feed. The web service receives instructions, and returns data, in XML format.</p>
<p>A section has been created on the ITSS Wiki for users&nbsp;of the OSS Student Data Feed to share information about successful methods of accessing the data. The page can be found here: <a href="https://wiki.oucs.ox.ac.uk/itss/DataFeedsDiscussion">https://wiki.oucs.ox.ac.uk/itss/DataFeedsDiscussion</a> (webauth authentication and ITSS membership required). </p>
<!-- navigation object : Gl Back to Top --><div class="clear"></div><div class="backtotop"><a href="#wrapper" class=" backtotop">Back to top</a></div>


<!--end Further Content-->
<!--start Further Content-->
<a name="d.en.27246"></a>
<h2>Setting up access to the OSS Student Data Feed via the Web Service</h2>
<div  class="teaser"></div>
<p>The OSS Student Data Feed uses 'web services' technology. Web services are designed to operate machine-to-machine using open standards. Our service uses a protocol called SOAP to exchange data in XML format. The reason we are using this technology is that it allows for the choice of client software (used to extract and interpret the XML) to be made independently by each end user.</p>
<p>With a web service, the service provider (OSS, in this case) provides the user with a web services description file (known as a WSDL) which a SOAP client can read. The WSDL contains information about the kind of message you need to send to the service, and an 'endpoint' URL to send it to. The only reason you need to log in to OSS is to change your password - besides that, there won't be anything in OSS for you to see.</p>
<p>It may also be helpful for you to know that our staff have been using a free tool called soapUI to access the service, and Oxygen XML editor to view the data. If you use soapUI, there are additional instructions below - do bear in mind that you can use any available method you wish to access a web service, and that as a result we do not support specific software packages (though will of course assist you where possible). The service has been stress tested using a simple bash/unix script and curl - this is probably the simplest client from which to build from and is listed below after the soapUI guide.</p>
<h3>Getting started with soapUI</h3>
<p>Open soapUI. Go to File &gt; New WSDL project. Name your project and then enter the following URL for the WSDL: https://bspibm07x.bsp.ox.ac.uk:3443/StudentDataFeed/studentDataFeedSoapHttpPort?WSDL. Leave the tickboxes in their default state, and click 'OK'. The software will download the information contained in the WSDL. Once this is done, look on the left of the screen, and open up the + until you see 'Request 1'. Double click to open it:</p>
<p><img src="/media/global/wwwadminoxacuk/localsites/bsp/images/studentsystemssupportcentrewebsite/OSS_datafeed_-_screenshot_1.jpg" alt="" height="255" width="248" class="floated"  /></p>
<p>&lt;soapenv:Envelope xmlns:soapenv="<a href="http://schemas.xmlsoap.org/soap/envelope/">http://schemas.xmlsoap.org/soap/envelope/</a>" xmlns:uk="<a href="http://uk.ac.ox.ws/">http://uk.ac.ox.ws/</a>"&gt;<br />&lt;soapenv:Header/&gt;<br />&lt;soapenv:Body&gt;<br />&lt;uk:studentDataFeed&gt;<br />&lt;versionId&gt;&lt;/versionId&gt;<br />&lt;username&gt;?&lt;/username&gt;<br />&lt;password&gt;?&lt;/password&gt;<br />&lt;personNumber&gt;?&lt;/personNumber&gt;<br />&lt;stdntSurname&gt;?&lt;/stdntSurname&gt;<br />&lt;stdntDob&gt;?&lt;/stdntDob&gt;<br />&lt;programmeCode&gt;?&lt;/programmeCode&gt;<br />&lt;programmeType&gt;?&lt;/programmeType&gt;<br />&lt;deptCode&gt;?&lt;/deptCode&gt;<br />&lt;collegeCode&gt;&lt;/collegeCode&gt;<br />&lt;studentOrApplicant&gt;&lt;/studentOrApplicant&gt;<br />&lt;/uk:studentDataFeed&gt;<br />&lt;/soapenv:Body&gt;<br />&lt;/soapenv:Envelope&gt;</p>
<p>You need to delete all the ? marks and replace them as required:</p>
<p>Valid values for versionId:</p>
<ul>
<li>The string "current"&nbsp; - Date Feed&nbsp;responds with XML conforming to the current schema definition </li>
<li>The string "previous" - Data Feed responds with XML conforming to the previous schema definition </li>
<li>Empty string - equivalent to "current" </li>
<li>A decimal number (for example 1.08) -&nbsp;Data Feed&nbsp;responds with XML conforming to given versioned schema definition</li>
</ul>
<p>Username will be XXIGS_DF_etc, and the password will be as you reset it through OSS. (If you make three attempts with the wrong password you'll be frozen out for about 15 mins). The remaining parameters can then be used as required. You must request at least a person number, program, dept, or college. Surname permits wildcards (%) in conjunction with other parameters. To run the request, you'll then need to click on the green arrow at the top of the window. A list of parameter codes is available on our weblearn space: <a href="https://weblearn.ox.ac.uk/portal/hierarchy/central/aad/systems/datafeed">https://weblearn.ox.ac.uk/portal/hierarchy/central/aad/systems/datafeed</a>. There is also a list of error messages which can be returned by the service, and an XML schema, which models the structure of the data which will be returned.</p>
<h3>A simple client using curl</h3>
<p>Copy the sample XML SOAP request above to file, fill in the parameters as required, save to file myreq.dat. Run the following curl command to send the request and capture the response to myreq.res:</p>
<ul>
<li>curl -k --sslv3 -d @myreq.dat -H "Content-Type: text/xml;charset=UTF-8"&nbsp; "<a href="https://bspibm07x.bsp.ox.ac.uk:3443/StudentDataFeed/studentDataFeedSoapHttpPort">https://bspibm07x.bsp.ox.ac.uk:3443/StudentDataFeed/studentDataFeedSoapHttpPort</a>" &gt;myreq.res </li>
<li>Do not ignore SSL errors - remove the '-k' switch (you may need to update the server's list of CA certificates). </li>
<li>Parse the resulting SOAP response (remove the wrapping element and unescape its content. E.g. using awk:<br />gawk '/[&lt;]/ {next} {gsub("[&amp;]lt;","&lt;");gsub("[&amp;]gt;","&gt;");gsub("[&amp;]amp;"," \&amp;");print $0;}' &lt; myreq.res</li>
</ul>
<!-- navigation object : Gl Back to Top --><div class="clear"></div><div class="backtotop"><a href="#wrapper" class=" backtotop">Back to top</a></div>


<!--end Further Content-->
<!--start Further Content-->
<a name="d.en.27247"></a>
<h2>Support</h2>
<div  class="teaser"></div>
<p>Contact <a href="mailto:OSS@admin.ox.ac.uk"><span style="color: #002d62;">OSS Support</span></a> for help with web service account creation, password maintenance, and any technical problems with the web service's or Data Warehouse's functionality and provide the following details:</p>
<ul>
<li>Your OSS Student Data Feed account name </li>
<li>The parameters which you used in your query, if applicable </li>
<li>The XML error message returned by the service, or a description of the problem you are encountering if you are not receiving messages from the server. </li>
</ul>
<!-- navigation object : Gl Back to Top --><div class="clear"></div><div class="backtotop"><a href="#wrapper" class=" backtotop">Back to top</a></div>


<!--end Further Content-->
<!-- navigation object : Gl Footer Link -->
                <ul id="content-extras">
  <li class="back-to-top"><a href="#wrapper"><span>Back to top</span></a></li>
 <!-- <li class="send">
		<script type="text/javascript">
			$(document).ready(function(){    
			var jQryDoc= document.URL;
			var jQryText = "" + jQryDoc +"";
			$("div.recommendpage").html("<a href=\"mailto:?subject=Recommended: Available Templates&body="+jQryText+"\"><span>Recommend this page<\/span><\/a>");
			});
		</script>
		
		<div class="recommendpage"></div>
		<noscript><a href="mailto:?subject=Recommended: Available Templates"><span>Recommend this page</span></a></noscript>
</li>-->
<li class="page-recommend" ><a href="/recommendthispage/?pageurl=/bsp/studsys-support-centre/gettingaccess/data-access-setup/&amp;pagename=Student Systems Support Centre" >Recommend this page</a></li>
</ul>

            </div>
 
            <!-- Tertiary Content -->
            <div id="tertiary-content">  
              <!-- navigation object : GL RHS --><!-- text/tertiary - copied from text/related -->

<div class="related related-articles">
<h2>Student Systems</h2>

 <ul><li><a href="/bsp/studsys-support-centre/">Student Systems home</a> </li>
<li><a href="http://www2.admin.ox.ac.uk/bsp/studentsys/index.php5">System availability</a> </li>
<li><a href="/bsp/studsys-support-centre/gettingaccess/">Gaining access</a> </li>
<li><a href="/bsp/studsys-support-centre/custodian/">Being an Information Custodian</a> </li>
<li><a href="/bsp/studsys-support-centre/data-feed/">OSS Student Data Feed</a> </li>
<li><a href="/bsp/studsys-support-centre/osstraining/">Training</a></li></ul>
</div>

            </div>
          </div>

          <!--[if IE 6]><div class="clear"></div><![endif]-->
        </div>

        <div id="footer">
          <dl id="footer-updated"><dt>Last updated</dt> <dd>10 Dec 11</dd></dl>
          <ul class="extras">
            <!-- navigation object : Ad Tools -->            <li class="first"><!-- navigation object : BSP site map link --><a href="/bsp/sitemap/">Site Map</a></li>
            <li><a href="mailto:bspweb@admin.ox.ac.uk">Contact this site's webmaster</a></li>
            <li><a href="http://www.ox.ac.uk/copyright.html">Legal notice</a></li>
            <li><a href="http://www.admin.ox.ac.uk/dataprotection/privacypolicy/">Privacy Policy</a></li>
          </ul>
        <div class="clear"></div>
      </div>
    </div>

  </body>
</html>